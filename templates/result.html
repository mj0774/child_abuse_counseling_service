<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>평가 결과 - 아동학대위험평가서비스</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/result.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- 헤더 -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1>아동학대위험평가서비스</h1>
                </div>
                <nav class="nav">
                    <ul>
                        <li><a href="{{ url_for('home') }}">홈</a></li>
                        <li><a href="#about">서비스 소개</a></li>
                        <li><a href="#contact">문의</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- 메인 콘텐츠 -->
    <main class="results-main">
    <div class="container">
        <div class="results-container">
            </div>

        <section class="results-header-section">
            <div class="results-badge">평가 완료</div>
            <h1 class="results-main-title">아동학대 위험도<br>분석 결과</h1>
            <p class="results-subtitle">
                체계적인 평가를 통해 도출된 위험도 분석 결과입니다.<br>
                전문가 권고사항을 참고하여 적절한 조치를 취하시기 바랍니다.
            </p>

            <div class="score-summary-card">
                <div class="overall-score" id="overallScore"></div>
                <div class="score-label">각 항목의 개별 점수는 하단의 평가 결과에서 확인해주세요.</div>
                <!-- <div class="risk-level-badge risk-medium" id="riskLevel"></div> -->
            </div>
        </section>

        <section class="analysis-section">
            <h3 class="section-title">AI 평가 결과</h3>
            <div class="filter-section">
                <label class="filter-label" for="categoryFilter">평가 영역:</label>
                <select class="filter-select" id="categoryFilter">
                    <option value="전체">전체</option>
                    <option value="신체적 불편감">신체적 불편감</option>
                    <option value="기분문제">기분문제</option>
                    <option value="자율신경계">자율신경계</option>
                    <option value="대인관계">대인관계</option>
                    <option value="기본생활">기본생활</option>
                    <option value="학대여부">학대여부</option>
                    <option value="응급">응급</option>
                </select>
            </div>
            <div class="table-wrapper">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th style="width: 120px;">대분류</th>
                            <th style="width: 100px;">평가영역</th>
                            <th style="width: 350px;">주요 질문</th>
                            <th style="width: 80px; text-align: center;">점수</th>
                            <th style="width: 80px; text-align: center;">위험도</th>
                        </tr>
                    </thead>
                    <tbody id="resultsTableBody"></tbody>
                </table>
            </div>
        </section>

             <!-- 영역별 위험도 분석 -->
            <section class="analysis-section">
                <h3 class="section-title">영역별 위험도 분석</h3>
                <div class="chart-wrapper">
                    <canvas id="radarChart"></canvas>
                </div>
            </section>

            <section class="recommendations-section">
                <h3 class="recommendations-title">전문가 권고사항</h3>
                <div class="recommendation-card">
                    <div class="recommendation-header">즉시 개입 필요 영역</div>
                    <div class="recommendation-content">가정환경 및 양육자 스트레스 관리가 시급히 필요합니다. 전문상담기관의 도움을 받으시기 바랍니다.</div>
                </div>
                <div class="recommendation-card">
                    <div class="recommendation-header">예방 및 개선 방안</div>
                    <div class="recommendation-content">정기적인 양육 상담과 가족 지원 프로그램 참여를 통해 위험요인을 줄일 수 있습니다.</div>
                </div>
                <div class="recommendation-card">
                    <div class="recommendation-header">모니터링 계획</div>
                    <div class="recommendation-content">3개월 후 재평가를 통해 개선사항을 점검하고 지속적인 관찰이 필요합니다.</div>
                </div>
            </section>

            <section class="action-section">
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="downloadReport()"><i class="fa-regular fa-file-pdf"></i>결과서 다운로드</button>
                    <a href="{{ url_for('feedback') }}"><button class="btn btn-secondary"><i class="fa-solid fa-user-edit"></i>Feedback 요청</button></a>
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <h4>아동학대위험평가서비스</h4>
                    <p>아동의 안전과 보호를 위한 전문 서비스</p>
                </div>
                <div class="footer-links">
                    <ul>
                        <li><a href="#privacy">개인정보처리방침</a></li>
                        <li><a href="#terms">이용약관</a></li>
                        <li><a href="#contact">문의하기</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 아동학대위험평가서비스. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/result.js') }}"></script>
</body>
</html>